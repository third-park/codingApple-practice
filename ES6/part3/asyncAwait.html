<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>async/await</title>
</head>
<body>
  <button>눌러</button>
  
  <script>
    async function calc(){
      let plus = new Promise((resolve, reject)=>{
        let result = 10 + 20;
        resolve(result);
      })
      let result = await plus;
      console.log(result);
    }

    calc()
    .then(()=>{
      setTimeout(()=>{
        console.log("얍");
      }, 1000)
    })

    async function 쁘라스(){
      let 더한다 = new Promise((resolve, reject)=>{
        reject();
      })
      try{ let result = await 더한다 }
      catch{ throw new Error('앙오어 빡쳐')}
    }

    쁘라스()

    let button = document.querySelector('button');
    //버튼을 클릭하면 성공했어요를 콘솔에 출력하는 promise객체 만들기
    let promise = new Promise((resolve, reject)=>{
      button.addEventListener('click', ()=>{
        resolve()
      })
    })
    
    async function 성공버튼(){
      let result = await promise; //promise가 성공되기까지 기다림. 아니면 바로 콘솔뜸
      console.log("성공입니다.");
      }

      성공버튼()


  </script>
</body>
</html>